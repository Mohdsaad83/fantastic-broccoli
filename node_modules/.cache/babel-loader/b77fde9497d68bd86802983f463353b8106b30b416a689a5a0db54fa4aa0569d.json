{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{FiClock,FiUsers,FiHeart,FiArrowLeft,FiPlus,FiCheckCircle}from\"react-icons/fi\";import{useRecipes}from\"../hooks/useRecipes\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const RecipeDetails=()=>{var _recipe$nutrition,_recipe$nutrition2;const{id}=useParams();const navigate=useNavigate();const{getRecipe,addToFavorites,removeFromFavorites,isFavorite:checkFavorite}=useRecipes();const[recipe,setRecipe]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[isFavorite,setIsFavorite]=useState(false);const[servings,setServings]=useState(1);useEffect(()=>{const fetchRecipe=async()=>{try{setLoading(true);setError(null);const recipeData=await getRecipe(id);if(recipeData){setRecipe(recipeData);setServings(recipeData.servings);// Check if recipe is favorited\nconst favoriteStatus=await checkFavorite(parseInt(id));setIsFavorite(favoriteStatus);}else{setError(\"Recipe not found\");}}catch(err){console.error(\"Error fetching recipe:\",err);setError(\"Failed to load recipe\");}finally{setLoading(false);}};if(id){fetchRecipe();}},[id,getRecipe,checkFavorite]);const handleFavoriteToggle=async()=>{try{if(isFavorite){const success=await removeFromFavorites(parseInt(recipe.id));if(success){setIsFavorite(false);}}else{const success=await addToFavorites(parseInt(recipe.id));if(success){setIsFavorite(true);}}}catch(err){console.error(\"Error toggling favorite:\",err);}};const handleServingsChange=newServings=>{if(newServings>0){setServings(newServings);}};const getAdjustedAmount=(originalAmount,originalServings)=>{const multiplier=servings/originalServings;const match=originalAmount.match(/^(\\d+(?:\\.\\d+)?)\\s*(.*)$/);if(match){const amount=parseFloat(match[1]);const unit=match[2];const adjustedAmount=(amount*multiplier).toFixed(2).replace(/\\.?0+$/,\"\");return\"\".concat(adjustedAmount,\" \").concat(unit);}return originalAmount;};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading recipe...\"})]});}if(error||!recipe){return/*#__PURE__*/_jsxs(\"div\",{className:\"error-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:error||\"Recipe not found\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/recipes\"),className:\"btn btn-primary\",children:\"Back to Recipes\"})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"recipe-details\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-header\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(\"/recipes\"),className:\"back-btn\",children:[/*#__PURE__*/_jsx(FiArrowLeft,{}),\" Back to Recipes\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-hero\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"recipe-image-large\",children:/*#__PURE__*/_jsx(\"span\",{className:\"recipe-emoji-large\",children:recipe.image})}),/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"recipe-badges\",children:recipe.tags.map(tag=>/*#__PURE__*/_jsx(\"span\",{className:\"tag\",children:tag},tag))}),/*#__PURE__*/_jsx(\"h1\",{className:\"recipe-title\",children:recipe.title}),/*#__PURE__*/_jsx(\"p\",{className:\"recipe-description\",children:recipe.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-meta\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"meta-item\",children:[/*#__PURE__*/_jsx(FiClock,{}),/*#__PURE__*/_jsxs(\"span\",{children:[recipe.cookingTime,\" min\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"meta-item\",children:[/*#__PURE__*/_jsx(FiUsers,{}),/*#__PURE__*/_jsxs(\"span\",{children:[recipe.servings,\" servings\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"meta-item calories\",children:/*#__PURE__*/_jsxs(\"span\",{children:[((_recipe$nutrition=recipe.nutrition)===null||_recipe$nutrition===void 0?void 0:_recipe$nutrition.calories)||recipe.calories,\" cal\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"meta-item\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u2B50 \",recipe.rating,\" \",recipe.reviews?\"(\".concat(recipe.reviews,\" reviews)\"):\"\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleFavoriteToggle,className:\"btn btn-outline \".concat(isFavorite?\"favorited\":\"\"),children:[/*#__PURE__*/_jsx(FiHeart,{}),\" \",isFavorite?\"Favorited\":\"Add to Favorites\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",children:[/*#__PURE__*/_jsx(FiPlus,{}),\" Add to Meal Plan\"]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nutrition-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Nutrition Facts\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"nutrition-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nutrition-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"nutrition-value\",children:Math.round((((_recipe$nutrition2=recipe.nutrition)===null||_recipe$nutrition2===void 0?void 0:_recipe$nutrition2.calories)||recipe.calories)*servings/recipe.servings)}),/*#__PURE__*/_jsx(\"span\",{className:\"nutrition-label\",children:\"Calories\"})]}),recipe.nutrition&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nutrition-item\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"nutrition-value\",children:[Math.round(recipe.nutrition.protein*servings/recipe.servings),\"g\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"nutrition-label\",children:\"Protein\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nutrition-item\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"nutrition-value\",children:[Math.round(recipe.nutrition.carbs*servings/recipe.servings),\"g\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"nutrition-label\",children:\"Carbs\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nutrition-item\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"nutrition-value\",children:[Math.round(recipe.nutrition.fat*servings/recipe.servings),\"g\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"nutrition-label\",children:\"Fat\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nutrition-item\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"nutrition-value\",children:[Math.round(recipe.nutrition.fiber*servings/recipe.servings),\"g\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"nutrition-label\",children:\"Fiber\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nutrition-item\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"nutrition-value\",children:[Math.round(recipe.nutrition.sodium*servings/recipe.servings),\"mg\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"nutrition-label\",children:\"Sodium\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-main\",children:[recipe.ingredients&&recipe.ingredients.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"ingredients-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Ingredients\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"servings-adjuster\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Servings:\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleServingsChange(servings-1),className:\"serving-btn\",children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:\"serving-count\",children:servings}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleServingsChange(servings+1),className:\"serving-btn\",children:\"+\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ingredients-list\",children:recipe.ingredients.map((ingredient,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"ingredient-item\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"ingredient-\".concat(index)}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"ingredient-\".concat(index),children:[/*#__PURE__*/_jsx(\"span\",{className:\"ingredient-amount\",children:getAdjustedAmount(ingredient.amount,recipe.servings)}),/*#__PURE__*/_jsx(\"span\",{className:\"ingredient-name\",children:ingredient.name})]})]},index))})]}),recipe.instructions&&recipe.instructions.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"instructions-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Instructions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"instructions-list\",children:recipe.instructions.map((instruction,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"instruction-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"instruction-number\",children:index+1}),/*#__PURE__*/_jsx(\"div\",{className:\"instruction-text\",children:instruction})]},index))})]})]}),recipe.tips&&recipe.tips.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"tips-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Chef's Tips\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tips-list\",children:recipe.tips.map((tip,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"tip-item\",children:[/*#__PURE__*/_jsx(FiCheckCircle,{className:\"tip-icon\"}),/*#__PURE__*/_jsx(\"p\",{children:tip})]},index))})]})]})]})});};export default RecipeDetails;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","FiClock","FiUsers","FiHeart","FiArrowLeft","FiPlus","FiCheckCircle","useRecipes","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RecipeDetails","_recipe$nutrition","_recipe$nutrition2","id","navigate","getRecipe","addToFavorites","removeFromFavorites","isFavorite","checkFavorite","recipe","setRecipe","loading","setLoading","error","setError","setIsFavorite","servings","setServings","fetchRecipe","recipeData","favoriteStatus","parseInt","err","console","handleFavoriteToggle","success","handleServingsChange","newServings","getAdjustedAmount","originalAmount","originalServings","multiplier","match","amount","parseFloat","unit","adjustedAmount","toFixed","replace","concat","className","children","onClick","image","tags","map","tag","title","description","cookingTime","nutrition","calories","rating","reviews","Math","round","protein","carbs","fat","fiber","sodium","ingredients","length","ingredient","index","type","htmlFor","name","instructions","instruction","tips","tip"],"sources":["/Users/bosaad77/ga/porjects/fantastic-broccoli/src/pages/RecipeDetails.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { useParams, useNavigate } from \"react-router-dom\"\nimport {\n  FiClock,\n  FiUsers,\n  FiHeart,\n  FiArrowLeft,\n  FiPlus,\n  FiCheckCircle,\n} from \"react-icons/fi\"\nimport { useRecipes } from \"../hooks/useRecipes\"\n\nconst RecipeDetails = () => {\n  const { id } = useParams()\n  const navigate = useNavigate()\n  const {\n    getRecipe,\n    addToFavorites,\n    removeFromFavorites,\n    isFavorite: checkFavorite,\n  } = useRecipes()\n  const [recipe, setRecipe] = useState(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(null)\n  const [isFavorite, setIsFavorite] = useState(false)\n  const [servings, setServings] = useState(1)\n\n  useEffect(() => {\n    const fetchRecipe = async () => {\n      try {\n        setLoading(true)\n        setError(null)\n        const recipeData = await getRecipe(id)\n\n        if (recipeData) {\n          setRecipe(recipeData)\n          setServings(recipeData.servings)\n\n          // Check if recipe is favorited\n          const favoriteStatus = await checkFavorite(parseInt(id))\n          setIsFavorite(favoriteStatus)\n        } else {\n          setError(\"Recipe not found\")\n        }\n      } catch (err) {\n        console.error(\"Error fetching recipe:\", err)\n        setError(\"Failed to load recipe\")\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    if (id) {\n      fetchRecipe()\n    }\n  }, [id, getRecipe, checkFavorite])\n\n  const handleFavoriteToggle = async () => {\n    try {\n      if (isFavorite) {\n        const success = await removeFromFavorites(parseInt(recipe.id))\n        if (success) {\n          setIsFavorite(false)\n        }\n      } else {\n        const success = await addToFavorites(parseInt(recipe.id))\n        if (success) {\n          setIsFavorite(true)\n        }\n      }\n    } catch (err) {\n      console.error(\"Error toggling favorite:\", err)\n    }\n  }\n\n  const handleServingsChange = (newServings) => {\n    if (newServings > 0) {\n      setServings(newServings)\n    }\n  }\n\n  const getAdjustedAmount = (originalAmount, originalServings) => {\n    const multiplier = servings / originalServings\n    const match = originalAmount.match(/^(\\d+(?:\\.\\d+)?)\\s*(.*)$/)\n\n    if (match) {\n      const amount = parseFloat(match[1])\n      const unit = match[2]\n      const adjustedAmount = (amount * multiplier)\n        .toFixed(2)\n        .replace(/\\.?0+$/, \"\")\n      return `${adjustedAmount} ${unit}`\n    }\n\n    return originalAmount\n  }\n\n  if (loading) {\n    return (\n      <div className=\"loading\">\n        <div className=\"spinner\"></div>\n        <p>Loading recipe...</p>\n      </div>\n    )\n  }\n\n  if (error || !recipe) {\n    return (\n      <div className=\"error-page\">\n        <h2>{error || \"Recipe not found\"}</h2>\n        <button\n          onClick={() => navigate(\"/recipes\")}\n          className=\"btn btn-primary\"\n        >\n          Back to Recipes\n        </button>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"recipe-details\">\n      <div className=\"container\">\n        {/* Header */}\n        <div className=\"recipe-header\">\n          <button onClick={() => navigate(\"/recipes\")} className=\"back-btn\">\n            <FiArrowLeft /> Back to Recipes\n          </button>\n\n          <div className=\"recipe-hero\">\n            <div className=\"recipe-image-large\">\n              <span className=\"recipe-emoji-large\">{recipe.image}</span>\n            </div>\n\n            <div className=\"recipe-info\">\n              <div className=\"recipe-badges\">\n                {recipe.tags.map((tag) => (\n                  <span key={tag} className=\"tag\">\n                    {tag}\n                  </span>\n                ))}\n              </div>\n\n              <h1 className=\"recipe-title\">{recipe.title}</h1>\n              <p className=\"recipe-description\">{recipe.description}</p>\n\n              <div className=\"recipe-meta\">\n                <div className=\"meta-item\">\n                  <FiClock />\n                  <span>{recipe.cookingTime} min</span>\n                </div>\n                <div className=\"meta-item\">\n                  <FiUsers />\n                  <span>{recipe.servings} servings</span>\n                </div>\n                <div className=\"meta-item calories\">\n                  <span>\n                    {recipe.nutrition?.calories || recipe.calories} cal\n                  </span>\n                </div>\n                <div className=\"meta-item\">\n                  <span>\n                    ⭐ {recipe.rating}{\" \"}\n                    {recipe.reviews ? `(${recipe.reviews} reviews)` : \"\"}\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"recipe-actions\">\n                <button\n                  onClick={handleFavoriteToggle}\n                  className={`btn btn-outline ${isFavorite ? \"favorited\" : \"\"}`}\n                >\n                  <FiHeart /> {isFavorite ? \"Favorited\" : \"Add to Favorites\"}\n                </button>\n                <button className=\"btn btn-primary\">\n                  <FiPlus /> Add to Meal Plan\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"recipe-content\">\n          {/* Nutrition Info */}\n          <div className=\"nutrition-card\">\n            <h3>Nutrition Facts</h3>\n            <div className=\"nutrition-grid\">\n              <div className=\"nutrition-item\">\n                <span className=\"nutrition-value\">\n                  {Math.round(\n                    ((recipe.nutrition?.calories || recipe.calories) *\n                      servings) /\n                      recipe.servings\n                  )}\n                </span>\n                <span className=\"nutrition-label\">Calories</span>\n              </div>\n              {recipe.nutrition && (\n                <>\n                  <div className=\"nutrition-item\">\n                    <span className=\"nutrition-value\">\n                      {Math.round(\n                        (recipe.nutrition.protein * servings) / recipe.servings\n                      )}\n                      g\n                    </span>\n                    <span className=\"nutrition-label\">Protein</span>\n                  </div>\n                  <div className=\"nutrition-item\">\n                    <span className=\"nutrition-value\">\n                      {Math.round(\n                        (recipe.nutrition.carbs * servings) / recipe.servings\n                      )}\n                      g\n                    </span>\n                    <span className=\"nutrition-label\">Carbs</span>\n                  </div>\n                  <div className=\"nutrition-item\">\n                    <span className=\"nutrition-value\">\n                      {Math.round(\n                        (recipe.nutrition.fat * servings) / recipe.servings\n                      )}\n                      g\n                    </span>\n                    <span className=\"nutrition-label\">Fat</span>\n                  </div>\n                  <div className=\"nutrition-item\">\n                    <span className=\"nutrition-value\">\n                      {Math.round(\n                        (recipe.nutrition.fiber * servings) / recipe.servings\n                      )}\n                      g\n                    </span>\n                    <span className=\"nutrition-label\">Fiber</span>\n                  </div>\n                  <div className=\"nutrition-item\">\n                    <span className=\"nutrition-value\">\n                      {Math.round(\n                        (recipe.nutrition.sodium * servings) / recipe.servings\n                      )}\n                      mg\n                    </span>\n                    <span className=\"nutrition-label\">Sodium</span>\n                  </div>\n                </>\n              )}\n            </div>\n          </div>\n\n          <div className=\"recipe-main\">\n            {/* Ingredients */}\n            {recipe.ingredients && recipe.ingredients.length > 0 && (\n              <div className=\"ingredients-section\">\n                <div className=\"section-header\">\n                  <h3>Ingredients</h3>\n                  <div className=\"servings-adjuster\">\n                    <span>Servings:</span>\n                    <button\n                      onClick={() => handleServingsChange(servings - 1)}\n                      className=\"serving-btn\"\n                    >\n                      -\n                    </button>\n                    <span className=\"serving-count\">{servings}</span>\n                    <button\n                      onClick={() => handleServingsChange(servings + 1)}\n                      className=\"serving-btn\"\n                    >\n                      +\n                    </button>\n                  </div>\n                </div>\n\n                <div className=\"ingredients-list\">\n                  {recipe.ingredients.map((ingredient, index) => (\n                    <div key={index} className=\"ingredient-item\">\n                      <input type=\"checkbox\" id={`ingredient-${index}`} />\n                      <label htmlFor={`ingredient-${index}`}>\n                        <span className=\"ingredient-amount\">\n                          {getAdjustedAmount(\n                            ingredient.amount,\n                            recipe.servings\n                          )}\n                        </span>\n                        <span className=\"ingredient-name\">\n                          {ingredient.name}\n                        </span>\n                      </label>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Instructions */}\n            {recipe.instructions && recipe.instructions.length > 0 && (\n              <div className=\"instructions-section\">\n                <h3>Instructions</h3>\n                <div className=\"instructions-list\">\n                  {recipe.instructions.map((instruction, index) => (\n                    <div key={index} className=\"instruction-item\">\n                      <div className=\"instruction-number\">{index + 1}</div>\n                      <div className=\"instruction-text\">{instruction}</div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Tips */}\n          {recipe.tips && recipe.tips.length > 0 && (\n            <div className=\"tips-section\">\n              <h3>Chef's Tips</h3>\n              <div className=\"tips-list\">\n                {recipe.tips.map((tip, index) => (\n                  <div key={index} className=\"tip-item\">\n                    <FiCheckCircle className=\"tip-icon\" />\n                    <p>{tip}</p>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default RecipeDetails\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}